<!DOCTYPE html>
<!--  This site was created in Webflow. https://webflow.com  -->
<!--  Last Published: Thu Sep 11 2025 01:41:31 GMT+0000 (Coordinated Universal Time)  -->
<html
  data-wf-page="68c1ab26db40a48908b23417"
  data-wf-site="68c1ab23db40a48908b2336e"
>
  <head>
    <meta charset="utf-8" />
    <title>Assistente Gerenciamento solar GoodWe</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="css/webflow.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="alexa.css" />
    <link
      href="css/asisstente-solar-goodwe.webflow.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="css/chat-overrides.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossorigin="anonymous"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({
        google: { families: ["Manrope:regular", "DM Sans:regular"] },
      });
    </script>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="images/webclip.png" rel="apple-touch-icon" />
  </head>
  <body>
    <div class="nav is-inverse">
      <div
        data-duration="400"
        data-animation="default"
        data-easing2="ease"
        data-easing="ease"
        data-collapse="medium"
        role="banner"
        data-no-scroll="1"
        class="nav_container w-nav"
      >
        <div class="nav_left">
          <a href="#" class="nav_logo w-inline-block">
            <div class="nav_logo-icon">
              <svg
                width="100%"
                height="100%"
                viewbox="0 0 33 33"
                preserveaspectratio="xMidYMid meet"
              >
                <path
                  d="M28,0H5C2.24,0,0,2.24,0,5v23c0,2.76,2.24,5,5,5h23c2.76,0,5-2.24,5-5V5c0-2.76-2.24-5-5-5ZM29,17c-6.63,0-12,5.37-12,12h-1c0-6.63-5.37-12-12-12v-1c6.63,0,12-5.37,12-12h1c0,6.63,5.37,12,12,12v1Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <div
              data-brand-name="true"
              class="paragraph_large margin-bottom_none"
            >
              Assistente solar
            </div>
          </a>
        </div>
        <div class="nav_right">
          <nav role="navigation" class="nav_menu w-nav-menu">
            <ul role="list" class="nav_menu-list w-list-unstyled">
              <li class="nav_menu-list-item">
                <a href="#sobre" class="nav_link on-inverse w-inline-block">
                  <div>Sobre</div>
                </a>
              </li>
            </ul>
          </nav>
          <!-- <div class="button-group margin-top_none">
            <a href="#" class="button on-inverse w-inline-block">
              <div class="button_label">Começar</div>
            </a>
          </div> -->
        </div>
        <div class="nav_mobile-menu-button w-nav-button">
          <div class="icon on-inverse">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewbox="0 0 24 24"
            >
              <g
                class="nc-icon-wrapper"
                stroke-linecap="square"
                stroke-linejoin="miter"
                stroke-width="1.5"
                fill="none"
                stroke="currentColor"
                stroke-miterlimit="10"
              >
                <line
                  x1="1"
                  y1="12"
                  x2="23"
                  y2="12"
                  stroke="currentColor"
                ></line>
                <line x1="1" y1="5" x2="23" y2="5"></line>
                <line x1="1" y1="19" x2="23" y2="19"></line>
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>
    <header class="section overflow_hidden is-inverse" id="inicio">
      <div class="container max-width_90percent">
        <div
          id="w-node-_286694ff-5466-72c9-83da-b31e3401911d-4da84a69"
          class="header w-node-_1aef83e7-a29a-7259-74a9-1b3cd10dc26f-08b23417"
        >
          <div
            class="w-layout-grid grid_5-col tablet-1-col gap-medium is-y-bottom"
          >
            <div
              id="w-node-a15aa3ad-b541-e3b1-545d-786b4da84a6c-4da84a69"
              class="heading-responsive_wrapper w-node-_1aef83e7-a29a-7259-74a9-1b3cd10dc265-08b23417"
            >
              <h1 class="heading-responsive_large margin-bottom_none">
                Energia solar, inteligência em ação
              </h1>
            </div>
            <div
              id="w-node-a15aa3ad-b541-e3b1-545d-786b4da84a6f-4da84a69"
              class="max-width_small w-node-_1aef83e7-a29a-7259-74a9-1b3cd10dc26d-08b23417"
            >
              <p class="subheading">
                Conecte seu inversor, monitore geração, otimize consumo e receba
                suporte inteligente. Descubra como automatizar sua casa,
                consultar status em tempo real e economizar energia com
                tecnologia de IA. Faça parte de um futuro sustentável, com
                autonomia e praticidade para o seu dia a dia.
              </p>
              <div class="button-group">
                <a href="#" id="btn-descubra" class="button on-inverse w-button"
                  >Descubra</a
                >
                <a
                  href="#demo-cli-section"
                  id="btn-teste"
                  class="button is-secondary on-inverse w-button"
                  >Teste a nossa solução</a
                >
              </div>
            </div>
          </div>
        </div>
        <div>
          <div
            data-w-id="1aef83e7-a29a-7259-74a9-1b3cd10dc27e"
            class="w-layout-hflex flex_horizontal gap-xsmall"
          >
            <div>
              <img
                width="139"
                height="95"
                alt="image of smart home energy management systems for a green tech/cleantech company"
                src="images/aa05cb7a-8bbd-45d3-9601-be183a78439b.avif"
                loading="lazy"
                data-aisg-image-id="52a4b47d-ad48-41bc-87da-138818acf3e7"
                class="image_cover"
              />
            </div>
            <div>
              <img
                width="139"
                height="95"
                alt="[background image] image of urban sustainability initiatives for a green tech/cleantech company"
                src="images/e48fd97a-90ef-4d96-8ada-02d5dbd0565c.avif"
                loading="lazy"
                data-aisg-image-id="a58821f1-1aa7-4a6d-8cab-40ced19b2f6d"
                class="image_cover"
              />
            </div>
            <div>
              <img
                width="139"
                height="95"
                alt="image of solar panels on a rooftop [background image]"
                src="images/f1c3aa25-6aa2-4b30-968f-4b95274793ed.avif"
                loading="lazy"
                data-aisg-image-id="2ee47610-bd58-4d35-8a6a-05d0b6e9e5aa"
                class="image_cover"
              />
            </div>
            <div>
              <img
                width="139"
                height="95"
                alt="solar panels on rooftops"
                src="images/ebf21514-c315-4639-b958-0d11dfe90f02.avif"
                loading="lazy"
                data-aisg-image-id="5263009a-9abf-4a58-b90c-af7aee62d857"
                class="image_cover"
              />
            </div>
          </div>
        </div>
      </div>
    </header>

    <section class="section" id="sobre">
      <div class="container">
        <div class="header is-align-center">
          <h2>- Nossa Equipe -</h2>
          <p class="subheading">Conheça os responsáveis por trás da solução</p>
        </div>

        <div
          class="w-layout-grid grid_5-col tablet-2-col mobile-1-col gap-medium margin-top_large"
        >
          <div class="card card_body shadow_small is-align-center">
            <div
              class="image-ratio_1x1 margin-bottom_small"
              style="width: 120px; margin-left: auto; margin-right: auto"
            >
              <img
                src="images/participants/helena.enc"
                alt="Foto do Integrante 1"
                class="image_cover"
                style="border-radius: 50%"
              />
            </div>
            <h4 class="heading_h4 margin-bottom_xxsmall">Helena Barbosa</h4>
            <p class="paragraph_small text-color_secondary">
              Desenvolvedora Backend
            </p>
            <p class="paragraph_small margin-top_xsmall">
              Participação nas integrações
            </p>
          </div>

          <div class="card card_body shadow_small is-align-center">
            <div
              class="image-ratio_1x1 margin-bottom_small"
              style="width: 120px; margin-left: auto; margin-right: auto"
            >
              <img
                src="./images/participants/henrique.png"
                alt="Foto2"
                class="image_cover"
                style="border-radius: 50%"
              />
            </div>
            <h4 class="heading_h4 margin-bottom_xxsmall">Henrique Mandrick</h4>
            <p class="paragraph_small text-color_secondary">
              Desenvolvedor Back/Front
            </p>
            <p class="paragraph_small margin-top_xsmall">
              Desenvolvimento de interface e integrações
            </p>
          </div>

          <div class="card card_body shadow_small is-align-center">
            <div
              class="image-ratio_1x1 margin-bottom_small"
              style="width: 120px; margin-left: auto; margin-right: auto"
            >
              <img
                src="./images/participants/mateus.enc"
                alt="Foto3"
                class="image_cover"
                style="border-radius: 50%"
              />
            </div>
            <h4 class="heading_h4 margin-bottom_xxsmall">Mateus Tomomitsu</h4>
            <p class="paragraph_small text-color_secondary">
              Desenvolvedor Backend
            </p>
            <p class="paragraph_small margin-top_xsmall">
              Participação nas integrações
            </p>
          </div>

          <!-- Integrante 4 -->
          <div class="card card_body shadow_small is-align-center">
            <div
              class="image-ratio_1x1 margin-bottom_small"
              style="width: 120px; margin-left: auto; margin-right: auto"
            >
              <img
                src="images/participants/ryan.enc"
                alt="Foto do Integrante 4"
                class="image_cover"
                style="border-radius: 50%"
              />
            </div>
            <h4 class="heading_h4 margin-bottom_xxsmall">Ryan Amorim</h4>
            <p class="paragraph_small text-color_secondary">Desenvolvedor Backend</p>
            <p class="paragraph_small margin-top_xsmall">
              Participação na integração Alexa
            </p>
          </div>

          <div class="card card_body shadow_small is-align-center">
            <div
              class="image-ratio_1x1 margin-bottom_small"
              style="width: 120px; margin-left: auto; margin-right: auto"
            >
              <img
                src="images/participants/thomas.enc"
                alt="Foto do Integrante 5"
                class="image_cover"
                style="border-radius: 50%"
              />
            </div>
            <h4 class="heading_h4 margin-bottom_xxsmall">Thomas Kobayashi</h4>
            <p class="paragraph_small text-color_secondary">Desenvolvedor Backend</p>
            <p class="paragraph_small margin-top_xsmall">
              Participação na integração Alexa
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="section is-inverse">
      <div class="container">
        <div class="header">
          <h2 class="heading_h2 max-width_large">
            Energia inteligente, casa conectada
          </h2>
        </div>
        <div class="w-layout-grid grid_2-col gap-large">
          <div
            id="w-node-f775ff24-b5c8-7852-7215-98f053d7aa08-2d9b3dc8"
            class="w-layout-grid grid_1-col gap-medium w-node-a082501a-ca13-9853-2daa-9d4b11c13540-08b23417"
          >
            <div
              id="w-node-f775ff24-b5c8-7852-7215-98f053d7aa09-2d9b3dc8"
              class="flex_horizontal gap-xxsmall w-node-a082501a-ca13-9853-2daa-9d4b11c13531-08b23417"
            >
              <div>
                <div class="icon on-inverse">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    viewbox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M19.25 12C19.25 16.0041 16.0041 19.25 12 19.25C7.99594 19.25 4.75 16.0041 4.75 12C4.75 7.99594 7.99594 4.75 12 4.75C16.0041 4.75 19.25 7.99594 19.25 12Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                    ></path>
                    <path
                      d="M9 12L11 14L15.5 9.5"
                      stroke="currentColor"
                      stroke-width="1.5"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="paragraph_large margin-bottom_none">
                Veja o status da bateria em tempo real, receba alertas
                automáticos e otimize seu sistema solar com praticidade e
                segurança.
              </p>
            </div>
            <div
              id="w-node-f775ff24-b5c8-7852-7215-98f053d7aa11-2d9b3dc8"
              class="flex_horizontal gap-xxsmall w-node-a082501a-ca13-9853-2daa-9d4b11c13538-08b23417"
            >
              <div>
                <div class="icon on-inverse">
                  <svg
                    width="100%"
                    height="100%"
                    viewbox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M4 12C8.41828 12 12 8.41828 12 4C12 8.41828 15.5817 12 20 12C15.5817 12 12 15.5817 12 20C12 15.5817 8.41828 12 4 12Z"
                      stroke-width="1.5"
                      stroke-linejoin="round"
                      stroke="currentColor"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="paragraph_large margin-bottom_none">
                Conte com suporte imediato para alertas do inversor, além de
                dicas personalizadas para resolver problemas e melhorar seu
                consumo.
              </p>
            </div>
            <div
              id="w-node-f775ff24-b5c8-7852-7215-98f053d7aa18-2d9b3dc8"
              class="flex_horizontal gap-xxsmall w-node-a082501a-ca13-9853-2daa-9d4b11c1353f-08b23417"
            >
              <div>
                <div class="icon on-inverse">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    viewbox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M6.75 18.25V4.75H13.5L17.25 8.5V18.25H6.75Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linejoin="round"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="paragraph_large margin-bottom_none">
                Monitore a geração de energia e status de bateria, acompanhe
                ganhos em kWh e renda, e descubra novas oportunidades para
                tornar seu lar mais sustentável.
              </p>
            </div>
          </div>
          <div class="image-ratio_auto">
            <img
              width="563"
              height="385"
              alt="image of inspected home exterior"
              src="images/41d56c48-06a1-47f1-9417-ea9591cffdcb.avif"
              loading="lazy"
              data-aisg-image-id="afbb24b5-7227-4f5b-bc42-efd483a6e547"
              class="image_cover"
            />
          </div>
        </div>
      </div>
    </section>
    <section class="section is-secondary">
      <div class="container">
        <div class="flex_vertical gap-large">
          <div class="ix_sticky-card is-card-1">
            <div class="card card_body margin-top_large on-secondary">
              <div class="w-layout-grid grid_2-col tablet-1-col gap-xxlarge">
                <section
                  class="image-ratio_2x3 ratio_1x1_mobile-l"
                  id="chat-content1"
                >
                  <div class="card card_body shadow_medium">
                    <div class="flex_vertical gap-small">
                      <div class="eyebrow">Assistente</div>
                      <div
                        id="chat-typing"
                        class="paragraph_large chat-bubble chat-user"
                        aria-live="polite"
                      ></div>
                      <div
                        id="chat-loading"
                        class="paragraph_small text-color_secondary"
                        style="display: none"
                      >
                        Consultando API…
                      </div>
                      <div
                        id="chat-response"
                        class="rich-text paragraph_large chat-bubble chat-assistant"
                      ></div>
                      <div class="divider"></div>
                    </div>
                  </div>
                </section>
                <div
                  id="w-node-_953da75b-696f-6029-aa23-a09ae3cf74cf-e3cf74c7"
                  class="header w-node-_6792aae2-8a13-6754-808d-22529c0c31e1-9c0c31de"
                >
                  <div>
                    <a
                      href="#"
                      id="toggle-explain"
                      class="text-button w-inline-block"
                    >
                      <div>Entenda como essa resposta foi gerada</div>
                    </a>
                    <div
                      id="explain-panel"
                      style="display: none"
                      class="margin-top_xsmall"
                    >
                      <div
                        id="explain-steps"
                        class="flex_vertical gap-xsmall"
                      ></div>
                      <div class="divider margin-top_xsmall"></div>
                      <div
                        id="explain-stats"
                        class="flex_vertical gap-xxsmall"
                      ></div>
                      <div class="margin-top_xsmall">
                        <a
                          class="button is-secondary w-button"
                          href="https://www.semsportal.com/powerstation/PowerStatusSnMin/6ef62eb2-7959-4c49-ad0a-0ce75565023a"
                          target="_blank"
                          rel="noopener"
                          >Audite essa resposta</a
                        >
                      </div>
                    </div>
                  </div>
                  <h2>Status da bateria em tempo real</h2>
                  <p class="subheading">
                    Veja quanto sua bateria gerou, monitore o consumo e saiba
                    exatamente quando recarregar.
                  </p>
                  <div class="button-group">
                    <a href="#" id="testar-funcao-1" class="button w-button"
                      >Testar Função</a
                    >
                  </div>
                </div>
                <div class="eyebrow">Acompanhe em tempo real</div>
              </div>
            </div>
          </div>
          <div class="ix_sticky-card is-card-2">
            <div
              class="card card_body margin-top_large backdrop-filter_blur on-secondary"
            >
              <div class="w-layout-grid grid_2-col tablet-1-col gap-xxlarge">
                <section
                  class="image-ratio_2x3 ratio_1x1_mobile-l"
                  id="Chat-content2"
                >
                  <div class="card card_body shadow_medium">
                    <div class="flex_vertical gap-small">
                      <div class="eyebrow">Assistente</div>
                      <div
                        id="chat-typing-2"
                        class="paragraph_large chat-bubble chat-user"
                        aria-live="polite"
                      ></div>
                      <div
                        id="chat-loading-2"
                        class="paragraph_small text-color_secondary"
                        style="display: none"
                      >
                        Consultando API…
                      </div>
                      <div
                        id="chat-response-2"
                        class="rich-text paragraph_large chat-bubble chat-assistant chat-scroll typography-readable"
                      ></div>
                      <div class="divider"></div>
                    </div>
                  </div>
                </section>
                <div
                  id="w-node-_8eddfe5e-8c70-9bf4-5170-9b34912611d7-e3cf74c7"
                  class="content-block-link w-node-_98a2e1ae-ffef-5e2b-abb1-5ec42a5f97c5-08b23417"
                >
                  <div>
                    <a
                      href="#"
                      id="toggle-explain-2"
                      class="text-button w-inline-block"
                    >
                      <div>Entenda como essa resposta foi gerada</div>
                    </a>
                    <div
                      id="explain-panel-2"
                      style="display: none"
                      class="margin-top_xsmall"
                    >
                      <div
                        id="explain-steps-2"
                        class="flex_vertical gap-xsmall"
                      ></div>
                      <div class="divider margin-top_xsmall"></div>
                      <div
                        id="explain-stats-2"
                        class="flex_vertical gap-xxsmall"
                      ></div>
                      <div class="margin-top_xsmall">
                        <a
                          class="button is-secondary w-button"
                          href="https://www.semsportal.com/home/login"
                          target="_blank"
                          rel="noopener"
                          >Audite essa resposta (escolha a conta demo e a planta Bauer)</a
                        >
                      </div>
                    </div>
                  </div>
                  <h2>Economia automática</h2>
                  <p class="subheading">
                    Deixe o assistente otimizar seu consumo, reduzindo custos e
                    tornando sua casa mais eficiente e sustentável.
                  </p>
                  <div class="button-group">
                    <a href="#" id="testar-funcao-2" class="button w-button"
                      >Testar função</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="ix_sticky-card is-card-3">
            <div
              class="card card_body margin-top_large backdrop-filter_blur on-secondary"
            >
              <div class="w-layout-grid grid_2-col tablet-1-col gap-xxlarge">
                <section
                  class="image-ratio_2x3 ratio_1x1_mobile-l"
                  id="chat-content3"
                >
                  <div class="card card_body shadow_medium">
                    <div class="flex_vertical gap-small">
                      <div class="eyebrow">Assistente</div>
                      <div
                        id="chat-typing-3"
                        class="paragraph_large chat-bubble chat-user"
                        aria-live="polite"
                      ></div>
                      <div
                        id="chat-loading-3"
                        class="paragraph_small text-color_secondary"
                        style="display: none"
                      >
                        Consultando API…
                      </div>
                      <div
                        id="chat-response-3"
                        class="rich-text paragraph_large chat-bubble chat-assistant chat-scroll typography-readable"
                      ></div>
                      <div class="divider"></div>
                    </div>
                  </div>
                </section>
                <div
                  class="header w-node-_98a2e1ae-ffef-5e2b-abb1-5ec42a5f97d4-08b23417"
                >
                  <div>
                    <a
                      href="#"
                      id="toggle-explain-3"
                      class="text-button w-inline-block"
                    >
                      <div>Entenda como essa resposta foi gerada</div>
                    </a>
                    <div
                      id="explain-panel-3"
                      style="display: none"
                      class="margin-top_xsmall"
                    >
                      <div
                        id="explain-steps-3"
                        class="flex_vertical gap-xsmall"
                      ></div>
                      <div class="divider margin-top_xsmall"></div>
                      <div
                        id="explain-stats-3"
                        class="flex_vertical gap-xxsmall"
                      ></div>
                      <div class="margin-top_xsmall">
                        <a
                          class="button is-secondary w-button"
                          href="https://www.semsportal.com/powerstation/runmaintenance"
                          target="_blank"
                          rel="noopener"
                          >Audite essa resposta</a
                        >
                      </div>
                    </div>
                  </div>
                  <h2>Soluções rápidas para alertas</h2>
                  <p class="subheading">
                    Receba suporte imediato para qualquer alerta do inversor e
                    dicas práticas para melhorar o desempenho do seu sistema.
                  </p>
                  <div class="button-group">
                    <a href="#" id="testar-funcao-3" class="button w-button"
                      >Testar função</a
                    >
                    <a
                      href="#"
                      id="seguir-funcao-3"
                      class="button is-secondary w-button"
                      style="display: none"
                      >Detalhar primeiro erro</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="ix_sticky-card is-card-4">
          <div class="card card_body margin-top_large backdrop-filter_blur on-secondary">
            <div class="w-layout-grid grid_2-col tablet-1-col gap-xxlarge">
              <section class="image-ratio_2x3 ratio_1x1_mobile-l" id="chat-content4">
                <div class="card card_body shadow_medium">
                  <div class="flex_vertical gap-small">
                    <div class="eyebrow">Assistente</div>
                    <div id="chat-typing-4" class="paragraph_large chat-bubble chat-user" aria-live="polite"></div>
                    <div id="chat-loading-4" class="paragraph_small text-color_secondary" style="display:none;">Consultando API…</div>
                    <div id="chat-response-4" class="rich-text paragraph_large chat-bubble chat-assistant chat-scroll typography-readable"></div>
                    <div class="divider"></div>
                  </div>
                </div>
              </section>
              <div class="header w-node-_98a2e1ae-ffef-5e2b-abb1-5ec42a5f97d4-08b23417">
                <div>
                  <a href="#" id="toggle-explain-4" class="text-button w-inline-block">
                    <div>Entenda como essa resposta foi gerada</div>
                  </a>
                  <div id="explain-panel-4" style="display: none;" class="margin-top_xsmall">
                    <div id="explain-steps-4" class="flex_vertical gap-xsmall"></div>
                    <div class="divider margin-top_xsmall"></div>
                    <div id="explain-stats-4" class="flex_vertical gap-xxsmall"></div>
                    <div class="margin-top_xsmall">
                      <a class="button is-secondary w-button" href="https://www.semsportal.com/powerstation/runmaintenance" target="_blank" rel="noopener">Audite essa resposta</a>
                    </div>
                  </div>
                </div>
                <h2>Controle o seu EV Charger</h2>
                <p class="subheading">Escolha o momento ideal para cada tipo de carregamento e tenha autonomia total sobre o seu carregador veicular.</p>
                <div class="button-group">
                  <a href="#" id="testar-funcao-4" class="button w-button">Testar função</a>
                </div>
                <div class="evcharger-illustration">
                  <img src="images/charger.png" alt="Charger" class="charger-img" />
                  <img src="images/car.png" alt="Car" class="car-img" />
                </div>
                <div class="charging-mode-card">
                  <div class="charging-mode-header">
                    Charging Mode
                  </div>
                    <div class="charging-mode-btn-group">
                      <span class="charging-mode-btn active">
                        <img src="images/plug.png" alt="Fast" />
                        <span>Fast</span>
                      </span>
                      <span class="charging-mode-btn">
                        <img src="images/pv.png" alt="PV Priority" />
                        <span>PV Priority</span>
                      </span>
                      <span class="charging-mode-btn">
                        <img src="images/pv-battery.png" alt="PV+Battery" />
                        <span>PV+Battery</span>
                      </span>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
    </section>

    <!-- SEÇÃO DE DEMO CLI (MANTIDA) -->
    <section class="section" id="demo-cli-section">
      <div class="container"><div class="section-sep"></div></div>
    </section>
    <section class="section">
      <div class="container">
        <div class="w-layout-grid grid_2-col tablet-1-col gap-large">
          <!-- Left: expanded chat centered visually -->
          <div style="align-self: center">
            <div class="eyebrow">Agente Solar GoodWe</div>
            <div class="card card_body shadow_medium cli-terminal">
              <div
                id="cli-output"
                class="flex_vertical gap-xsmall cli-output"
                aria-live="polite"
              ></div>
              <div
                id="cli-loading"
                class="paragraph_small text-color_secondary loader-fade"
                style="display: none"
              >
                Consultando nossa API…
              </div>
              <div class="w-layout-hflex flex_horizontal gap-xsmall cli-row">
                <input
                  id="cli-input"
                  class="input_field cli-input w-input"
                  type="text"
                  placeholder="digite aqui e pressione Enter"
                  maxlength="500"
                />
                <a href="#" id="cli-send" class="button w-button">Enviar</a>
              </div>
            </div>
          </div>

          <!-- Right: copy + technical details toggle/panel -->
          <div class="header">
            <div class="eyebrow">Demo da nossa solução</div>
            <h3 class="heading_h2">Converse com o assistente via terminal</h3>
            <p class="subheading">
              Teste aberto. Envie um comando ou pergunta e veja a resposta.
              Todas as funcionalidades e comportamentos demonstrados aqui são os
              mesmos expostos na Alexa por meio da nossa skill — a experiência
              de voz reproduz as mesmas capacidades de consulta, otimização và
              explicabilidade técnica.
            </p>
          </div>
        </div>
      </div>
    </section>
    <section data-copilot="true" class="section">
      <div class="container">
        <div class="w-layout-grid grid_2-col tablet-1-col gap-large">
          <div
            id="w-node-_824127bf-fd45-9138-e825-43dae3fc40a6-e3fc40a3"
            class="w-node-_864f586c-b6d4-3414-7a5a-efcb8e71f7bd-08b23417"
          >
            <!-- NOVA SEÇÃO: INTEGRAÇÃO COM ALEXA -->
            <section class="section alexa-integration-section">
              <div class="container">
                <div class="alexa-integration-grid">
                  <!-- Coluna 1: Todo o conteúdo textual + blocos -->
                  <div class="alexa-left">
                    <div class="header is-align-left">
                      <h2>Integração com Alexa</h2>
                      <p class="subheading">
                        Controle seu sistema solar com comandos de voz através
                        da Amazon Alexa
                      </p>
                    </div>

                    <div class="alexa-content">
                      <div class="flex_horizontal gap-small">
                        <div class="icon alexa-color">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V7H9V5.5L3 7V9L9 10.5V12L5 13V15L9 14V16H11V18H13V16H15V14L19 15V13L15 12V10.5L21 9Z"
                            />
                          </svg>
                        </div>
                        <h3 class="heading_h3 margin-bottom_none">
                          Comandos de voz simplificados
                        </h3>
                      </div>
                      <p class="paragraph_large">
                        Nossa skill para Alexa permite que você consulte status,
                        otimize consumo e receba alertas usando apenas sua voz.
                        Pergunte sobre a geração de energia, status da bateria
                        ou peça recomendações de economia.
                      </p>

                      <div class="voice-commands-grid">
                        <div class="card card_body shadow_small voice-command">
                          <div class="flex_horizontal gap-xxsmall">
                            <div class="icon alexa-color">
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 24 24"
                              >
                                <path
                                  d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V7H9V5.5L3 7V9L9 10.5V12L5 13V15L9 14V16H11V18H13V16H15V14L19 15V13L15 12V10.5L21 9Z"
                                />
                              </svg>
                            </div>
                            <p class="paragraph_small margin-bottom_none">
                              "Alexa, pergunte ao GoodWe como está minha
                              bateria"
                            </p>
                          </div>
                        </div>

                        <div class="card card_body shadow_small voice-command">
                          <div class="flex_horizontal gap-xxsmall">
                            <div class="icon alexa-color">
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 24 24"
                              >
                                <path
                                  d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V7H9V5.5L3 7V9L9 10.5V12L5 13V15L9 14V16H11V18H13V16H15V14L19 15V13L15 12V10.5L21 9Z"
                                />
                              </svg>
                            </div>
                            <p class="paragraph_small margin-bottom_none">
                              "Alexa, pergunte ao GoodWe para otimizar meu
                              consumo"
                            </p>
                          </div>
                        </div>

                        <div class="card card_body shadow_small voice-command">
                          <div class="flex_horizontal gap-xxsmall">
                            <div class="icon alexa-color">
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 24 24"
                              >
                                <path
                                  d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V7H9V5.5L3 7V9L9 10.5V12L5 13V15L9 14V16H11V18H13V16H15V14L19 15V13L15 12V10.5L21 9Z"
                                />
                              </svg>
                            </div>
                            <p class="paragraph_small margin-bottom_none">
                              "Alexa, pergunte ao GoodWe se tenho alertas"
                            </p>
                          </div>
                        </div>

                        <div class="card card_body shadow_small voice-command">
                          <div class="flex_horizontal gap-xxsmall">
                            <div class="icon alexa-color">
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 24 24"
                              >
                                <path
                                  d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V7H9V5.5L3 7V9L9 10.5V12L5 13V15L9 14V16H11V18H13V16H15V14L19 15V13L15 12V10.5L21 9Z"
                                />
                              </svg>
                            </div>
                            <p class="paragraph_small margin-bottom_none">
                              "Alexa, pergunte ao GoodWe quanto economizei hoje"
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Coluna 2: Imagem isolada -->
                  <div class="alexa-right">
                    <video
                      src="images/alexa.webm  "
                      autoplay
                      muted
                      loop
                      playsinline
                      class="video_cover"
                    ></video>
                  </div>
                </div>
              </div>
            </section>

            <!-- Importa o CSS externo -->
            <link rel="stylesheet" href="styles/alexa.css" />

            <div class="header">
              <h2 class="eyebrow">Dúvidas, sugestões e feedbacks</h2>
              <h3 class="heading_h2">Entre em contato conosco</h3>
            </div>
            <div class="margin-bottom_none w-form">
              <div class="card card_body shadow_small">
                <div class="paragraph_large">
                  Contato por e-mail: <a href="mailto:fiapchallengehhrmt@gmail.com">fiapchallengehhrmt@gmail.com</a>
                </div>

          </div>
        </div>
      </div>
    </section>
    <footer class="footer is-inverse">
      <div class="container">
        <div class="footer_bottom-3-col">
          <div
            id="w-node-b3aa982f-5043-0718-64d9-1c4eabecadf5-b7f701f6"
            class="flex_horizontal tablet-vertical w-node-_19d914af-9f0e-6ace-4b7c-128d58729f01-58729efe"
          >
            <a href="#" class="logo w-inline-block">
              <div class="nav_logo-icon">
                <svg
                  width="100%"
                  height="100%"
                  viewbox="0 0 33 33"
                  preserveaspectratio="xMidYMid meet"
                >
                  <path
                    d="M28,0H5C2.24,0,0,2.24,0,5v23c0,2.76,2.24,5,5,5h23c2.76,0,5-2.24,5-5V5c0-2.76-2.24-5-5-5ZM29,17c-6.63,0-12,5.37-12,12h-1c0-6.63-5.37-12-12-12v-1c6.63,0,12-5.37,12-12h1c0,6.63,5.37,12,12,12v1Z"
                    fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div
                data-brand-name="true"
                class="paragraph_xlarge margin-bottom_none text_all-caps"
              >
                Assistente solar inteligente
              </div>
            </a>
          </div>
          <ul
            id="w-node-b3aa982f-5043-0718-64d9-1c4eabecadfe-b7f701f6"
            role="list"
            class="button-group margin_none text-align_center gap-small w-node-_19d914af-9f0e-6ace-4b7c-128d58729f08-58729efe w-list-unstyled"
          >
            <li class="margin-bottom_none">
              <a href="#inicio" class="footer_link on-inverse w-inline-block">
                <div>Início</div>
              </a>
            </li>
            <li class="margin-bottom_none">
              <a href="#sobre" class="footer_link on-inverse w-inline-block">
                <div>Sobre</div>
              </a>
            </li>
            <li class="margin-bottom_none">
              <a href="#" class="footer_link on-inverse w-inline-block"></a>
            </li>
            <li class="margin-bottom_none">
              <a href="#" class="footer_link on-inverse w-inline-block"></a>
            </li>
            <li class="margin-bottom_none">
              <a href="#" class="footer_link on-inverse w-inline-block"></a>
            </li>
            <li class="margin-bottom_none">
              <a href="#" class="footer_link on-inverse w-inline-block"></a>
            </li>
            <li class="margin-bottom_none">
              <a href="#" class="footer_link on-inverse w-inline-block"></a>
            </li>
          </ul>
        </div>
      </div>
    </footer>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68c1ab23db40a48908b2336e"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="js/webflow.js" type="text/javascript"></script>
    <script type="text/javascript">
      (function () {
        function smoothScrollTo(target, opts) {
          if (!target) return;
          var y = target.getBoundingClientRect().top + window.pageYOffset;
          if (opts && typeof opts.offset === "number") y -= opts.offset;
          window.scrollTo({ top: y, behavior: "smooth" });
        }

        document.addEventListener("DOMContentLoaded", function () {
          var btnDescubra = document.getElementById("btn-descubra");
          var btnTeste = document.getElementById("btn-teste");
          var heroTarget = document.querySelector(
            ".card.card_body.margin-top_large.on-secondary"
          );
          var cliSection = document.getElementById("demo-cli-section");

          // Generic smooth scroll for in-page anchors
          var internalLinks = document.querySelectorAll('a[href^="#"]');
          internalLinks.forEach(function (link) {
            var href = link.getAttribute("href");
            if (!href || href.length <= 1) return;
            var target = document.getElementById(href.slice(1));
            if (!target) return;
            link.addEventListener("click", function (e) {
              e.preventDefault();
              smoothScrollTo(target, { offset: 16 });
            });
          });

          if (btnDescubra && heroTarget) {
            btnDescubra.addEventListener("click", function (e) {
              e.preventDefault();
              smoothScrollTo(heroTarget, { offset: 16 });
            });
          }

          if (btnTeste && cliSection) {
            btnTeste.addEventListener("click", function (e) {
              e.preventDefault();
              smoothScrollTo(cliSection, { offset: 16 });
              // focus CLI input shortly after scroll starts
              setTimeout(function () {
                var input = document.getElementById("cli-input");
                if (input) input.focus();
              }, 400);
            });
          }
        });
      })();
    </script>
    <script type="text/javascript">
      (function () {
        function appendMessage(container, role, text) {
          var el = document.createElement("div");
          el.className =
            "paragraph_large chat-bubble " +
            (role === "user" ? "chat-user" : "chat-assistant");
          el.textContent =
            (role === "user" ? "Usuário: " : "Assistente: ") +
            String(text).replace(/\*\*/g, "");
          container.appendChild(el);
          container.scrollTop = container.scrollHeight;
        }

        function renderRow(container, iconPathD, text) {
          var row = document.createElement("div");
          row.className = "flex_horizontal gap-xxsmall";
          row.innerHTML =
            '<div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="' +
            iconPathD +
            '" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>' +
            '<div class="paragraph_small">' +
            text +
            "</div>";
          container.appendChild(row);
        }

        function inferFunctionsFrom(text) {
          var t = (text || "").toLowerCase();
          var f = [];
          if (/(otimiz|optimiz|econ)/.test(t)) f.push("optimize_usage");
          if (/(bateria|soc|status)/.test(t))
            f.push("get_powerstation_battery_status");
          if (/(alarme|alerta|erro|falha)/.test(t))
            f.push("get_alarms_by_range");
          if (/(detalh)/.test(t)) f.push("get_warning_detail");
          if (/(hoje|ontem|m[eê]s|\d{1,2}\/\d{1,2})/.test(t))
            f.push("get_today_date");
          return Array.from(new Set(f));
        }

        function toggleDetails() {
          var p = document.getElementById("cli-details-panel");
          var label = document.getElementById("cli-details-toggle-label");
          if (!p) return;
          var show = p.style.display === "none" || p.style.display === "";
          p.style.display = show ? "block" : "none";
          if (label)
            label.textContent = show
              ? "Ocultar detalhes técnicos"
              : "Mostrar detalhes técnicos";
        }

        document.addEventListener("DOMContentLoaded", function () {
          var input = document.getElementById("cli-input");
          var send = document.getElementById("cli-send");
          var out = document.getElementById("cli-output");
          var loading = document.getElementById("cli-loading");
          var steps = null;
          var stats = null;
          var funcs = null; // detalhes removidos

          function sendMsg() {
            var q = ((input && input.value) || "").trim();
            if (!q) return;
            appendMessage(out, "user", q);
            input.value = "";
            if (steps) steps.innerHTML = "";
            if (stats) stats.innerHTML = "";
            if (funcs) funcs.innerHTML = "";

            if (loading) loading.style.display = "block";
            var t0 = performance.now();
            fetch("/api/chat", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ user_input: q }),
            })
              .then(function (res) {
                var s = res.status;
                return res.json().then(function (j) {
                  return { status: s, json: j };
                });
              })
              .then(function (p) {
                if (loading) loading.style.display = "none";
                var t1 = performance.now();
                var latency = Math.round(t1 - t0);
                var answer =
                  (p.json && (p.json.response || p.json.message)) ||
                  "Sem resposta.";
                appendMessage(out, "assistant", answer);
                // detalhes técnicos removidos
              })
              .catch(function (err) {
                if (loading) loading.style.display = "none";
                console.error(err);
              });
          }

          if (send)
            send.addEventListener("click", function (e) {
              e.preventDefault();
              sendMsg();
            });
          if (input)
            input.addEventListener("keydown", function (e) {
              if (e.key === "Enter") {
                e.preventDefault();
                sendMsg();
              }
            });

          // sugestões de perguntas
          var sug = document.getElementById("cli-suggestions");
          if (sug) {
            sug.addEventListener("click", function (e) {
              var a = e.target.closest("a[data-query]");
              if (!a) return;
              e.preventDefault();
              var q = a.getAttribute("data-query");
              if (input) {
                input.value = q;
              }
              sendMsg();
            });
          }
        });
      })();
    </script>
    <script type="text/javascript">
      (function () {
        function typeText(element, text, speed) {
          return new Promise(function (resolve) {
            var index = 0;
            element.textContent = "";
            var timer = setInterval(function () {
              element.textContent += text.charAt(index);
              index++;
              if (index >= text.length) {
                clearInterval(timer);
                resolve();
              }
            }, speed);
          });
        }

        function showExplainPanel() {
          var panel = document.getElementById("explain-panel");
          if (panel)
            panel.style.display =
              panel.style.display === "none" ? "block" : "none";
        }

        function renderStep(container, iconPathD, text) {
          var step = document.createElement("div");
          step.className = "flex_horizontal gap-xxsmall";
          step.innerHTML =
            '<div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="' +
            iconPathD +
            '" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>' +
            '<div class="paragraph_small">' +
            text +
            "</div>";
          container.appendChild(step);
        }

        function onTestarFuncaoClick(e) {
          e.preventDefault();
          var typingEl = document.getElementById("chat-typing");
          var responseEl = document.getElementById("chat-response");
          var loadingEl = document.getElementById("chat-loading");
          var toggleExplain = document.getElementById("toggle-explain");
          var explainSteps = document.getElementById("explain-steps");
          var explainStats = document.getElementById("explain-stats");
          if (!typingEl || !responseEl) return;
          responseEl.innerHTML = "";
          if (explainSteps) explainSteps.innerHTML = "";
          if (explainStats) explainStats.innerHTML = "";
          var text = "qual o status da minha bateria";

          // Start API call immediately to reduce perceived latency
          if (loadingEl) loadingEl.style.display = "block";
          var t0 = performance.now();
          var fetchPromise = fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ user_input: text }),
          });

          typeText(typingEl, "Usuário: " + text, 35)
            .then(function () {
              return fetchPromise;
            })
            .then(function (res) {
              var status = res.status;
              return res.json().then(function (json) {
                return { status: status, json: json };
              });
            })
            .then(function (payload) {
              var t1 = performance.now();
              var latencyMs = Math.round(t1 - t0);
              var answer =
                (payload.json &&
                  (payload.json.response || payload.json.message)) ||
                "Sem resposta.";
              if (loadingEl) loadingEl.style.display = "none";
              responseEl.textContent =
                "Assistente: " + String(answer).replace(/\*\*/g, "");
              if (!responseEl.classList.contains("chat-bubble")) {
                responseEl.classList.add("chat-bubble", "chat-assistant");
              }
              if (toggleExplain) toggleExplain.style.display = "inline-flex";

              // Build technical explanation
              if (explainSteps) {
                explainSteps.innerHTML = "";
                renderStep(
                  explainSteps,
                  "M5 12h14M13 5l7 7-7 7",
                  'Entrada enviada: "' + text + '"'
                );
                renderStep(
                  explainSteps,
                  "M2 12h20",
                  "Endpoint: /api/chat (POST)"
                );
                renderStep(
                  explainSteps,
                  "M6 12l4 4 8-8",
                  "Orquestração: call_geminiapi"
                );
              }
              if (explainStats) {
                var stats = document.createElement("div");
                stats.className = "paragraph_small";
                stats.textContent =
                  "Status HTTP: " +
                  payload.status +
                  " · Tempo de resposta: " +
                  latencyMs +
                  " ms";
                explainStats.appendChild(stats);
              }
            })
            .catch(function (err) {
              typingEl.textContent = "";
              if (loadingEl) loadingEl.style.display = "none";
              responseEl.textContent = "Erro ao consultar a API.";
              console.error(err);
            });
        }

        document.addEventListener("DOMContentLoaded", function () {
          var btn = document.getElementById("testar-funcao-1");
          var toggleExplain = document.getElementById("toggle-explain");
          if (btn) btn.addEventListener("click", onTestarFuncaoClick);
          if (toggleExplain)
            toggleExplain.addEventListener("click", function (e) {
              e.preventDefault();
              showExplainPanel();
            });
        });
      })();
    </script>
    <script type="text/javascript">
      (function () {
        function typeText2(el, text, speed) {
          return new Promise(function (resolve) {
            var i = 0;
            el.textContent = "";
            var t = setInterval(function () {
              el.textContent += text.charAt(i++);
              if (i >= text.length) {
                clearInterval(t);
                resolve();
              }
            }, speed);
          });
        }

        function ensureCard2Fits() {
          /* no-op after alignment to card1 layout */
        }

        function renderStep2(container, iconPathD, text) {
          var row = document.createElement("div");
          row.className = "flex_horizontal gap-xxsmall";
          row.innerHTML =
            '<div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="' +
            iconPathD +
            '" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>' +
            '<div class="paragraph_small">' +
            text +
            "</div>";
          container.appendChild(row);
          ensureCard2Fits();
        }

        function toggleExplain2() {
          var panel = document.getElementById("explain-panel-2");
          if (panel)
            panel.style.display =
              panel.style.display === "none" ? "block" : "none";
          ensureCard2Fits();
        }

        function onTestarFuncao2(e) {
          e.preventDefault();
          var typing = document.getElementById("chat-typing-2");
          var loading = document.getElementById("chat-loading-2");
          var answer = document.getElementById("chat-response-2");
          var steps = document.getElementById("explain-steps-2");
          var stats = document.getElementById("explain-stats-2");
          var toggle = document.getElementById("toggle-explain-2");
          if (!typing || !answer) return;
          if (steps) steps.innerHTML = "";
          if (stats) stats.innerHTML = "";
          answer.innerHTML = "";
          var question = "otimize meu uso";
          if (loading) loading.style.display = "block";
          var t0 = performance.now();
          var fetchP = fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ user_input: question }),
          });
          typeText2(typing, "Usuário: " + question, 35)
            .then(function () {
              return fetchP;
            })
            .then(function (res) {
              var s = res.status;
              return res.json().then(function (j) {
                return { status: s, json: j };
              });
            })
            .then(function (p) {
              var t1 = performance.now();
              var latency = Math.round(t1 - t0);
              if (loading) loading.style.display = "none";
              var raw =
                (p.json && (p.json.response || p.json.message)) ||
                "Sem resposta.";
              // sanitize simple markdown: remove ** and convert bullets
              var cleaned = String(raw).replace(/\*\*/g, "");
              // replace markdown lists "- " to plain dash lines when rendering as textContent is fine
              answer.textContent = "Assistente: " + cleaned;
              if (!answer.classList.contains("chat-bubble")) {
                answer.classList.add(
                  "chat-bubble",
                  "chat-assistant",
                  "chat-scroll",
                  "typography-readable"
                );
              }
              if (toggle) toggle.style.display = "inline-flex";
              ensureCard2Fits();
              if (steps) {
                renderStep2(
                  steps,
                  "M5 12h14M13 5l7 7-7 7",
                  'Entrada do usuário enviada: "' + question + '"'
                );
                renderStep2(
                  steps,
                  "M4 7h16M4 12h16M4 17h10",
                  "Workflow: Ativar modelo → Invocar ferramenta de otimização → Consolidar recomendações"
                );
                renderStep2(
                  steps,
                  "M3 6h18",
                  "Extração de dados: estação Bauer (parâmetros SOC e P_meter)"
                );
                renderStep2(
                  steps,
                  "M4 7h16M4 12h12",
                  "Normalização e análise: histórico de 7 dias com parâmetros reais minuto a minuto"
                );
                renderStep2(
                  steps,
                  "M2 12h20",
                  "Endpoint chamado: /api/chat (POST)"
                );
                renderStep2(
                  steps,
                  "M6 12l4 4 8-8",
                  "Orquestração: call_geminiapi + usage_optimizer → recomendações úteis"
                );
              }
              if (stats) {
                var n = document.createElement("div");
                n.className = "paragraph_small";
                n.textContent =
                  "Status HTTP: " +
                  p.status +
                  " · Tempo de resposta: " +
                  latency +
                  " ms";
                stats.appendChild(n);
              }
            })
            .catch(function (err) {
              typing.textContent = "";
              if (loading) loading.style.display = "none";
              answer.textContent = "Erro ao consultar a API.";
              console.error(err);
            });
        }

        document.addEventListener("DOMContentLoaded", function () {
          var btn2 = document.getElementById("testar-funcao-2");
          var toggle2 = document.getElementById("toggle-explain-2");
          if (btn2) btn2.addEventListener("click", onTestarFuncao2);
          if (toggle2)
            toggle2.addEventListener("click", function (e) {
              e.preventDefault();
              toggleExplain2();
            });
          // no extra height management needed following card1 pattern
        });
      })();
    </script>
    <script type="text/javascript">
      (function () {
        function typeText3(el, text, speed) {
          return new Promise(function (resolve) {
            var i = 0;
            el.textContent = "";
            var t = setInterval(function () {
              el.textContent += text.charAt(i++);
              if (i >= text.length) {
                clearInterval(t);
                resolve();
              }
            }, speed);
          });
        }

        function renderStep3(container, iconPathD, text) {
          var row = document.createElement("div");
          row.className = "flex_horizontal gap-xxsmall";
          row.innerHTML =
            '<div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="' +
            iconPathD +
            '" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>' +
            '<div class="paragraph_small">' +
            text +
            "</div>";
          container.appendChild(row);
        }

        function toggleExplain3() {
          var panel = document.getElementById("explain-panel-3");
          if (panel)
            panel.style.display =
              panel.style.display === "none" ? "block" : "none";
        }

        function appendBubbleBeforeDivider(stackEl, bubbleEl) {
          var divider = stackEl.querySelector(".divider");
          if (divider) stackEl.insertBefore(bubbleEl, divider);
          else stackEl.appendChild(bubbleEl);
        }

        function onTestarFuncao3(e) {
          e.preventDefault();
          var typing = document.getElementById("chat-typing-3");
          var loading = document.getElementById("chat-loading-3");
          var answer = document.getElementById("chat-response-3");
          var toggle = document.getElementById("toggle-explain-3");
          var steps = document.getElementById("explain-steps-3");
          var stats = document.getElementById("explain-stats-3");
          var follow = document.getElementById("seguir-funcao-3");
          if (!typing || !answer) return;
          if (steps) steps.innerHTML = "";
          if (stats) stats.innerHTML = "";
          answer.textContent = "";
          var question = "teve algum alerta na minha rede no ultimo mês?";
          if (loading) loading.style.display = "block";
          var t0 = performance.now();
          var fetchP = fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ user_input: question }),
          });
          typeText3(typing, "Usuário: " + question, 35)
            .then(function () {
              return fetchP;
            })
            .then(function (res) {
              var s = res.status;
              return res.json().then(function (j) {
                return { status: s, json: j };
              });
            })
            .then(function (p) {
              var t1 = performance.now();
              var latency = Math.round(t1 - t0);
              if (loading) loading.style.display = "none";
              var raw =
                (p.json && (p.json.response || p.json.message)) ||
                "Sem resposta.";
              var cleaned = String(raw).replace(/\*\*/g, "");
              answer.textContent = "Assistente: " + cleaned;
              if (!answer.classList.contains("chat-bubble"))
                answer.classList.add(
                  "chat-bubble",
                  "chat-assistant",
                  "chat-scroll",
                  "typography-readable"
                );
              if (toggle) toggle.style.display = "inline-flex";
              if (follow) follow.style.display = "inline-block";

              if (steps) {
                renderStep3(
                  steps,
                  "M5 12h14M13 5l7 7-7 7",
                  'Entrada enviada: "' + question + '"'
                );
                renderStep3(steps, "M2 12h20", "Endpoint: /api/chat (POST)");
                renderStep3(
                  steps,
                  "M3 6h18",
                  "Dados consultados: inversor da rede Bauer"
                );
                renderStep3(
                  steps,
                  "M4 7h16M4 12h12",
                  "P_meter minuto a minuto e SOC minuto a minuto"
                );
                renderStep3(
                  steps,
                  "M4 7h16M4 12h16M4 17h10",
                  "Análise estatística sobre médias e padrões (7 dias)"
                );
                renderStep3(
                  steps,
                  "M6 12l4 4 8-8",
                  "Orquestração: call_geminiapi + usage_optimizer → recomendações"
                );
              }
              if (stats) {
                var n = document.createElement("div");
                n.className = "paragraph_small";
                n.textContent =
                  "Status HTTP: " +
                  p.status +
                  " · Tempo de resposta: " +
                  latency +
                  " ms";
                stats.appendChild(n);
              }
            })
            .catch(function (err) {
              if (loading) loading.style.display = "none";
              answer.textContent = "Erro ao consultar a API.";
              console.error(err);
            });
        }

        function onFollowUp3(e) {
          e.preventDefault();
          var typing = document.getElementById("chat-typing-3");
          var loading = document.getElementById("chat-loading-3");
          var stack = typing ? typing.parentNode : null;
          var steps = document.getElementById("explain-steps-3");
          if (!stack) return;
          var userMsg = "Usuário: me explique melhor esse primeiro erro";
          var userBubble = document.createElement("div");
          userBubble.className = "paragraph_large chat-bubble chat-user";
          userBubble.textContent = userMsg;
          appendBubbleBeforeDivider(stack, userBubble);
          if (loading) loading.style.display = "block";
          var followQ = "me explique melhor esse primeiro erro";
          var t0 = performance.now();
          fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ user_input: followQ }),
          })
            .then(function (res) {
              var s = res.status;
              return res.json().then(function (j) {
                return { status: s, json: j };
              });
            })
            .then(function (p) {
              var t1 = performance.now();
              var latency = Math.round(t1 - t0);
              if (loading) loading.style.display = "none";
              var raw =
                (p.json && (p.json.response || p.json.message)) ||
                "Sem resposta.";
              var cleaned = String(raw).replace(/\*\*/g, "");
              var assist = document.createElement("div");
              assist.className =
                "paragraph_large chat-bubble chat-assistant chat-scroll typography-readable";
              assist.textContent = "Assistente: " + cleaned;
              appendBubbleBeforeDivider(stack, assist);
              if (steps) {
                renderStep3(
                  steps,
                  "M5 12h14M13 5l7 7-7 7",
                  'Seguimento enviado: "' + followQ + '"'
                );
                var stats = document.getElementById("explain-stats-3");
                if (stats) {
                  var n = document.createElement("div");
                  n.className = "paragraph_small";
                  n.textContent =
                    "Status HTTP: " +
                    p.status +
                    " · Tempo de resposta: " +
                    latency +
                    " ms";
                  stats.appendChild(n);
                }
              }
            })
            .catch(function (err) {
              if (loading) loading.style.display = "none";
              console.error(err);
            });
        }

        document.addEventListener("DOMContentLoaded", function () {
          var btn3 = document.getElementById("testar-funcao-3");
          var follow = document.getElementById("seguir-funcao-3");
          var toggle3 = document.getElementById("toggle-explain-3");
          if (btn3) btn3.addEventListener("click", onTestarFuncao3);
          if (follow) follow.addEventListener("click", onFollowUp3);
          if (toggle3)
            toggle3.addEventListener("click", function (e) {
              e.preventDefault();
              toggleExplain3();
            });
        });
      })();
    </script>
    <script type="text/javascript">
    (function () {
      function typeText4(el, text, speed) {
        return new Promise(function (resolve) {
          var i = 0;
          el.textContent = "";
          var t = setInterval(function () {
            el.textContent += text.charAt(i++);
            if (i >= text.length) {
              clearInterval(t);
              resolve();
            }
          }, speed);
        });
      }

      function ensureCard4Fits() {
        /* no-op after alignment to card1 layout */
      }

      function renderStep4(container, iconPathD, text) {
        var row = document.createElement("div");
        row.className = "flex_horizontal gap-xxsmall";
        row.innerHTML =
          '<div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="' +
          iconPathD +
          '" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>' +
          '<div class="paragraph_small">' +
          text +
          "</div>";
        container.appendChild(row);
        ensureCard4Fits();
      }

      function toggleExplain4() {
        var panel = document.getElementById("explain-panel-4");
        if (panel)
          panel.style.display =
            panel.style.display === "none" ? "block" : "none";
        ensureCard4Fits();
      }

       function onTestarFuncao4(e) {
         e.preventDefault();
         var typing = document.getElementById("chat-typing-4");
         var loading = document.getElementById("chat-loading-4");
         var answer = document.getElementById("chat-response-4");
         var steps = document.getElementById("explain-steps-4");
         var stats = document.getElementById("explain-stats-4");
         var toggle = document.getElementById("toggle-explain-4");
         if (!typing || !answer) return;
         if (steps) steps.innerHTML = "";
         if (stats) stats.innerHTML = "";
         answer.innerHTML = "";

        var charging_mode = window.charging_mode;

         var question;
         var new_mode;
         if (charging_mode === 1) {
           question = "Altere o modo de carregamento do meu EV charger para Pv Priority";
           new_mode = 2;
         } else {
           question = "Altere o modo de carregamento do meu EV charger para Rápido";
           new_mode = 1;
         }

         if (loading) loading.style.display = "block";
         var t0 = performance.now();
         var fetchP = fetch("/api/chat", {
           method: "POST",
           headers: { "Content-Type": "application/json" },
           body: JSON.stringify({ user_input: question }),
         });
         typeText4(typing, "Usuário: " + question, 35)
           .then(function () {
             return fetchP;
           })
           .then(function (res) {
             var s = res.status;
             return res.json().then(function (j) {
               return { status: s, json: j };
             });
           })
           .then(function (p) {
             var t1 = performance.now();
             var latency = Math.round(t1 - t0);
             if (loading) loading.style.display = "none";
             var raw =
               (p.json && (p.json.response || p.json.message)) ||
               "Sem resposta.";
             var cleaned = String(raw).replace(/\*\*/g, "");
             answer.textContent = "Assistente: " + cleaned;
             if (!answer.classList.contains("chat-bubble")) {
               answer.classList.add(
                 "chat-bubble",
                 "chat-assistant",
                 "chat-scroll",
                 "typography-readable"
               );
             }
             if (toggle) toggle.style.display = "inline-flex";
             ensureCard4Fits();

             // Atualiza visualmente o modo ativo
             setActiveChargingMode(new_mode);

             if (steps) {
               // ... renderização dos passos ...
             }
             if (stats) {
               var n = document.createElement("div");
               n.className = "paragraph_small";
               n.textContent =
                 "Status HTTP: " +
                 p.status +
                 " · Tempo de resposta: " +
                 latency +
                 " ms";
               stats.appendChild(n);
             }
             // Atualiza variável global se necessário
             window.charging_mode = new_mode;
           })
           .catch(function (err) {
             typing.textContent = "";
             if (loading) loading.style.display = "none";
             answer.textContent = "Erro ao consultar a API.";
             console.error(err);
           });
       }

      document.addEventListener("DOMContentLoaded", function () {
        var btn4 = document.getElementById("testar-funcao-4");
        var toggle4 = document.getElementById("toggle-explain-4");
        if (btn4) btn4.addEventListener("click", onTestarFuncao4);
        if (toggle4)
          toggle4.addEventListener("click", function (e) {
            e.preventDefault();
            toggleExplain4();
          });
        // no extra height management needed following card1 pattern
      });

      // Supondo que charging_mode seja o valor retornado da API
      function setActiveChargingMode(charging_mode) {
        document.querySelectorAll('.charging-mode-btn').forEach(function(btn, idx) {
          btn.classList.remove('active');
          // idx+1 corresponde ao modo 1, 2, 3 na ordem dos botões
          if (idx + 1 === charging_mode) {
            btn.classList.add('active');
          }
        });
      }

      // Exemplo de uso após receber o retorno da API:
      fetch('/api/EvCharger/ChargingMode')
        .then(res => res.json())
        .then(data => setActiveChargingMode(data.charging_mode));
    })();
    </script>
    <script type="text/javascript">
      (function () {
        function toggleFaq() {
          var panel = document.getElementById("faq-panel");
          var label = document.getElementById("toggle-faq-label");
          if (!panel) return;
          var isHidden =
            panel.style.display === "none" || panel.style.display === "";
          panel.style.display = isHidden ? "block" : "none";
          if (label)
            label.textContent = isHidden
              ? "Ocultar perguntas"
              : "Mostrar perguntas";
        }

        document.addEventListener("DOMContentLoaded", function () {
          var toggle = document.getElementById("toggle-faq");
          if (toggle)
            toggle.addEventListener("click", function (e) {
              e.preventDefault();
              toggleFaq();
            });
        });
      })();
    </script>
  </body>
</html>
